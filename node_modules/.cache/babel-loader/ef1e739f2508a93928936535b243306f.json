{"ast":null,"code":"import _objectSpread from \"/home/webdev/Documents/react-portal/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/home/webdev/Documents/react-portal/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/webdev/Documents/react-portal/src/components/manage/manage-realms/realms-landing/index.js\";\nimport React, { useState, useEffect } from 'react';\nimport { HeaderButton, HeaderContainer, HeaderLink, SearchBar, TableLoader, FilterToolBar, Pagination, InputField, Modal, LoadingModal, SuccessModal, TableNoResult } from 'common-components';\nimport { Divider, Paper, InputAdornment, Dialog } from '@material-ui/core';\nimport { Container, menus, BtnCont, Switch, SaveButton, CancelBtn, constCreate } from './contsVar';\nimport { Add } from '@material-ui/icons';\nimport ReamlTable from './RealmTable';\n\nconst Realms = ({\n  history\n}) => {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        realms = _useState2[0],\n        setRealms = _useState2[1];\n\n  const _useState3 = useState([]),\n        _useState4 = _slicedToArray(_useState3, 2),\n        paginateList = _useState4[0],\n        setPaginateList = _useState4[1];\n\n  const _useState5 = useState(true),\n        _useState6 = _slicedToArray(_useState5, 2),\n        loading = _useState6[0],\n        setLoading = _useState6[1];\n\n  const _useState7 = useState(constCreate),\n        _useState8 = _slicedToArray(_useState7, 2),\n        create = _useState8[0],\n        setCreate = _useState8[1];\n\n  useEffect(() => {\n    getData();\n  }, []);\n\n  const getData = () => {\n    setLoading(true);\n    setCreate(constCreate);\n    const tempData = [{\n      \"uuid\": \"994dceb8-5062-11e7-a132-02420a000304\",\n      \"leader\": null,\n      \"slug\": \"external_rec\",\n      \"datetime_created\": \"2017-06-13T18:03:26.715623Z\",\n      \"datetime_modified\": \"2019-11-05T09:18:19.641105Z\",\n      \"name\": \"arman locas\",\n      \"active\": false\n    }, {\n      \"uuid\": \"996d157a-5062-11e7-8332-02420a000304\",\n      \"leader\": \"9f795eaa-9807-11e7-9f36-0242ac11000b\",\n      \"slug\": \"ppus\",\n      \"datetime_created\": \"2017-06-13T18:03:26.922947Z\",\n      \"datetime_modified\": \"2019-11-05T06:02:38.943179Z\",\n      \"name\": \"echo-location\",\n      \"active\": false\n    }, {\n      \"uuid\": \"9918d51e-5062-11e7-a2b5-02420a000304\",\n      \"leader\": null,\n      \"slug\": \"gcs\",\n      \"datetime_created\": \"2017-06-13T18:03:26.368296Z\",\n      \"datetime_modified\": \"2017-06-13T18:03:26.368361Z\",\n      \"name\": \"gcs\",\n      \"active\": true\n    }, {\n      \"uuid\": \"9933f0f6-5062-11e7-b057-02420a000304\",\n      \"leader\": \"a8a1783e-9781-11e9-9501-0242ac110012\",\n      \"slug\": \"licensing\",\n      \"datetime_created\": \"2017-06-13T18:03:26.545622Z\",\n      \"datetime_modified\": \"2019-11-05T06:06:23.965248Z\",\n      \"name\": \"Licensin'\",\n      \"active\": true\n    }, {\n      \"uuid\": \"98df9b78-5062-11e7-9d64-02420a000304\",\n      \"leader\": null,\n      \"slug\": \"mx\",\n      \"datetime_created\": \"2017-06-13T18:03:25.992977Z\",\n      \"datetime_modified\": \"2017-06-13T18:03:25.993032Z\",\n      \"name\": \"mx\",\n      \"active\": true\n    }, {\n      \"uuid\": \"988f4984-5062-11e7-9ec2-02420a000304\",\n      \"leader\": null,\n      \"slug\": \"pp\",\n      \"datetime_created\": \"2017-06-13T18:03:25.466589Z\",\n      \"datetime_modified\": \"2017-06-13T18:03:25.466647Z\",\n      \"name\": \"pp\",\n      \"active\": true\n    }];\n    setTimeout(() => {\n      setRealms(tempData);\n      setPaginateList(tempData);\n      setLoading(false);\n    }, 2000); // get('/identity/realm/list/', { order_by: '-datetime_modified' })\n    //   .then(res => {\n    //     setRealms(res.data)\n    //     setPaginateList(res.data)\n    //     setLoading(false)\n    //   })\n    //   .catch(err => console.log(err))\n  };\n\n  const paginate = (from, to) => {\n    setRealms(paginateList.slice(from, to));\n  };\n\n  const FilterApplyButton = params => {\n    setLoading(true);\n\n    var parameter = _objectSpread({}, params.sortby !== ' ' && {\n      order_by: params.sortby\n    }, {}, params.active !== ' ' && {\n      is_active: params.active\n    }, {}, params.company !== ' ' && {\n      company: params.company\n    }, {}, params.campaign !== ' ' && {\n      campaigns: params.campaign\n    }, {}, params.roles !== ' ' && {\n      groups: params.roles\n    }, {}, params.hasCompany !== ' ' && {\n      no_company: !params.hasCompany\n    });\n\n    setTimeout(() => {\n      const tempData = [{\n        \"uuid\": \"994dceb8-5062-11e7-a132-02420a000304\",\n        \"leader\": null,\n        \"slug\": \"external_rec\",\n        \"datetime_created\": \"2017-06-13T18:03:26.715623Z\",\n        \"datetime_modified\": \"2019-11-05T09:18:19.641105Z\",\n        \"name\": \"arman locas\",\n        \"active\": false\n      }];\n      setRealms(tempData);\n      setPaginateList(tempData);\n      setLoading(false);\n    }, 2000); // get('/identity/realm/list/', parameter).then(res => {\n    //   setRealms(res.data)\n    //   setPaginateList(res.data)\n    //   setLoading(false)\n    // })\n  };\n\n  const handleClose = () => {\n    setCreate(constCreate);\n  };\n\n  const handleChange = e => {\n    if (e.target.value) {\n      setCreate(_objectSpread({}, create, {\n        name: e.target.value,\n        nameErr: ''\n      }));\n    } else {\n      setCreate(_objectSpread({}, create, {\n        name: e.target.value,\n        nameErr: 'A realm name is required'\n      }));\n    }\n  };\n\n  const handleCreate = () => {\n    setCreate(_objectSpread({}, create, {\n      load: true\n    })); // post('/identity/realm/create/', {\n    //   name: create.name,\n    //   active: create.active,\n    //   slug: slugify(create.name)\n    // })\n    //   .then(() => {\n    //     setCreate({ ...create, load: false, done: true })\n    //   })\n    //   .catch(err => {\n    //     try {\n    //       if (err.response.data) {\n    //         setCreate({\n    //           ...create,\n    //           load: false,\n    //           nameErr: 'realm with this name/slug already exists.'\n    //         })\n    //       }\n    //     } catch {\n    //       console.log(err)\n    //     }\n    //   })\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      alignItems: 'center',\n      paddingBottom: 30\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195\n    },\n    __self: this\n  }, React.createElement(HeaderLink, {\n    menu: menus,\n    title: \"Realms\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202\n    },\n    __self: this\n  }), realms.length !== 0 && React.createElement(HeaderButton // openFunction={() => setCreate({ ...create, open: true })}\n  , {\n    buttonText: \"New realm\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204\n    },\n    __self: this\n  })), React.createElement(Paper, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210\n    },\n    __self: this\n  }, !loading && realms.length === 0 ? React.createElement(TableNoResult, {\n    headerText: \"Realms\",\n    mainMessage: \"No realm have been created\",\n    subMessage: \"Would you like to creat one? Just hit the \\u201CNew Realm\\u201D button.\",\n    renderButton: // <SaveButton onClick={() => setCreate({ ...create, open: true })}>\n    React.createElement(SaveButton, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }, React.createElement(Add, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }), \"New Realm\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212\n    },\n    __self: this\n  }) : React.createElement(Container, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    style: {\n      width: '100%'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227\n    },\n    __self: this\n  }, React.createElement(SearchBar, {\n    title: \"realm\",\n    userData: realms,\n    headers: ['name', 'uuid'],\n    active: true,\n    link: true,\n    loading: loading,\n    pathnameData: {\n      firstLink: `/manage/realms/edit/`,\n      fetchData: ['uuid'],\n      lastLink: ``\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228\n    },\n    __self: this\n  }), React.createElement(Divider, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241\n    },\n    __self: this\n  }), React.createElement(FilterToolBar, {\n    FilterApplyButton: FilterApplyButton,\n    sortBy: true,\n    activeStatus: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242\n    },\n    __self: this\n  }), loading ? React.createElement(TableLoader, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248\n    },\n    __self: this\n  }) : React.createElement(React.Fragment, null, React.createElement(ReamlTable, {\n    realms: realms,\n    history: history,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251\n    },\n    __self: this\n  }), Boolean(paginateList.length) && React.createElement(Pagination, {\n    paginateFn: paginate,\n    totalItems: paginateList.length,\n    paginateList: paginateList,\n    itemsPerPage: 6,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253\n    },\n    __self: this\n  }))))));\n};\n\nexport { Realms };","map":{"version":3,"sources":["/home/webdev/Documents/react-portal/src/components/manage/manage-realms/realms-landing/index.js"],"names":["React","useState","useEffect","HeaderButton","HeaderContainer","HeaderLink","SearchBar","TableLoader","FilterToolBar","Pagination","InputField","Modal","LoadingModal","SuccessModal","TableNoResult","Divider","Paper","InputAdornment","Dialog","Container","menus","BtnCont","Switch","SaveButton","CancelBtn","constCreate","Add","ReamlTable","Realms","history","realms","setRealms","paginateList","setPaginateList","loading","setLoading","create","setCreate","getData","tempData","setTimeout","paginate","from","to","slice","FilterApplyButton","params","parameter","sortby","order_by","active","is_active","company","campaign","campaigns","roles","groups","hasCompany","no_company","handleClose","handleChange","e","target","value","name","nameErr","handleCreate","load","display","flexDirection","justifyContent","alignItems","paddingBottom","length","width","firstLink","fetchData","lastLink","Boolean"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport {\n  HeaderButton,\n  HeaderContainer,\n  HeaderLink,\n  SearchBar,\n  TableLoader,\n  FilterToolBar,\n  Pagination,\n  InputField,\n  Modal,\n  LoadingModal,\n  SuccessModal,\n  TableNoResult\n} from 'common-components'\nimport { Divider, Paper, InputAdornment, Dialog } from '@material-ui/core'\nimport {\n  Container,\n  menus,\n  BtnCont,\n  Switch,\n  SaveButton,\n  CancelBtn,\n  constCreate\n} from './contsVar'\nimport { Add } from '@material-ui/icons'\nimport ReamlTable from './RealmTable'\n\n\n\nconst Realms = ({ history }) => {\n  const [realms, setRealms] = useState([])\n  const [paginateList, setPaginateList] = useState([])\n  const [loading, setLoading] = useState(true)\n  const [create, setCreate] = useState(constCreate)\n\n\n  useEffect(() => {\n    getData()\n  }, [])\n\n  const getData = () => {\n    setLoading(true)\n    setCreate(constCreate)\n    const tempData = [{\n      \"uuid\": \"994dceb8-5062-11e7-a132-02420a000304\",\n      \"leader\": null,\n      \"slug\": \"external_rec\",\n      \"datetime_created\": \"2017-06-13T18:03:26.715623Z\",\n      \"datetime_modified\": \"2019-11-05T09:18:19.641105Z\",\n      \"name\": \"arman locas\",\n      \"active\": false\n    },\n    {\n      \"uuid\": \"996d157a-5062-11e7-8332-02420a000304\",\n      \"leader\": \"9f795eaa-9807-11e7-9f36-0242ac11000b\",\n      \"slug\": \"ppus\",\n      \"datetime_created\": \"2017-06-13T18:03:26.922947Z\",\n      \"datetime_modified\": \"2019-11-05T06:02:38.943179Z\",\n      \"name\": \"echo-location\",\n      \"active\": false\n    },\n    {\n      \"uuid\": \"9918d51e-5062-11e7-a2b5-02420a000304\",\n      \"leader\": null,\n      \"slug\": \"gcs\",\n      \"datetime_created\": \"2017-06-13T18:03:26.368296Z\",\n      \"datetime_modified\": \"2017-06-13T18:03:26.368361Z\",\n      \"name\": \"gcs\",\n      \"active\": true\n    },\n    {\n      \"uuid\": \"9933f0f6-5062-11e7-b057-02420a000304\",\n      \"leader\": \"a8a1783e-9781-11e9-9501-0242ac110012\",\n      \"slug\": \"licensing\",\n      \"datetime_created\": \"2017-06-13T18:03:26.545622Z\",\n      \"datetime_modified\": \"2019-11-05T06:06:23.965248Z\",\n      \"name\": \"Licensin'\",\n      \"active\": true\n    },\n    {\n      \"uuid\": \"98df9b78-5062-11e7-9d64-02420a000304\",\n      \"leader\": null,\n      \"slug\": \"mx\",\n      \"datetime_created\": \"2017-06-13T18:03:25.992977Z\",\n      \"datetime_modified\": \"2017-06-13T18:03:25.993032Z\",\n      \"name\": \"mx\",\n      \"active\": true\n    },\n    {\n      \"uuid\": \"988f4984-5062-11e7-9ec2-02420a000304\",\n      \"leader\": null,\n      \"slug\": \"pp\",\n      \"datetime_created\": \"2017-06-13T18:03:25.466589Z\",\n      \"datetime_modified\": \"2017-06-13T18:03:25.466647Z\",\n      \"name\": \"pp\",\n      \"active\": true\n    }]\n    setTimeout(() => {\n      setRealms(tempData)\n      setPaginateList(tempData)\n      setLoading(false)\n    }, 2000)\n\n    // get('/identity/realm/list/', { order_by: '-datetime_modified' })\n    //   .then(res => {\n    //     setRealms(res.data)\n    //     setPaginateList(res.data)\n    //     setLoading(false)\n    //   })\n    //   .catch(err => console.log(err))\n  }\n\n  const paginate = (from, to) => {\n    setRealms(paginateList.slice(from, to))\n  }\n\n  const FilterApplyButton = params => {\n    setLoading(true)\n    var parameter = {\n      ...(params.sortby !== ' ' && { order_by: params.sortby }),\n      ...(params.active !== ' ' && { is_active: params.active }),\n      ...(params.company !== ' ' && { company: params.company }),\n      ...(params.campaign !== ' ' && { campaigns: params.campaign }),\n      ...(params.roles !== ' ' && { groups: params.roles }),\n      ...(params.hasCompany !== ' ' && { no_company: !params.hasCompany })\n    }\n\n    setTimeout(() => {\n      const tempData = [{\n        \"uuid\": \"994dceb8-5062-11e7-a132-02420a000304\",\n        \"leader\": null,\n        \"slug\": \"external_rec\",\n        \"datetime_created\": \"2017-06-13T18:03:26.715623Z\",\n        \"datetime_modified\": \"2019-11-05T09:18:19.641105Z\",\n        \"name\": \"arman locas\",\n        \"active\": false\n      }]\n      setRealms(tempData)\n      setPaginateList(tempData)\n      setLoading(false)\n    }, 2000)\n\n    // get('/identity/realm/list/', parameter).then(res => {\n    //   setRealms(res.data)\n    //   setPaginateList(res.data)\n    //   setLoading(false)\n    // })\n  }\n\n  const handleClose = () => {\n    setCreate(constCreate)\n  }\n\n  const handleChange = e => {\n    if (e.target.value) {\n      setCreate({ ...create, name: e.target.value, nameErr: '' })\n    } else {\n      setCreate({\n        ...create,\n        name: e.target.value,\n        nameErr: 'A realm name is required'\n      })\n    }\n  }\n  const handleCreate = () => {\n    setCreate({ ...create, load: true })\n    // post('/identity/realm/create/', {\n    //   name: create.name,\n    //   active: create.active,\n    //   slug: slugify(create.name)\n    // })\n    //   .then(() => {\n    //     setCreate({ ...create, load: false, done: true })\n    //   })\n    //   .catch(err => {\n    //     try {\n    //       if (err.response.data) {\n    //         setCreate({\n    //           ...create,\n    //           load: false,\n    //           nameErr: 'realm with this name/slug already exists.'\n    //         })\n    //       }\n    //     } catch {\n    //       console.log(err)\n    //     }\n    //   })\n  }\n\n  return (\n    <>\n      {/* <SEO title=\"Manage Realms\" /> */}\n\n      <div style={{\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        paddingBottom: 30\n      }}>\n        <HeaderLink menu={menus} title=\"Realms\" />\n        {realms.length !== 0 && (\n          <HeaderButton\n            // openFunction={() => setCreate({ ...create, open: true })}\n            buttonText=\"New realm\"\n          />\n        )}\n      </div>\n      <Paper  >\n        {!loading && realms.length === 0 ?\n          <TableNoResult\n            headerText=\"Realms\"\n            mainMessage=\"No realm have been created\"\n            subMessage=\"Would you like to creat one? Just hit the “New Realm” button.\"\n            renderButton={\n              // <SaveButton onClick={() => setCreate({ ...create, open: true })}>\n              <SaveButton >\n\n                <Add />\n                New Realm\n              </SaveButton>\n            }\n          />\n          :\n          <Container>\n            <div style={{ width: '100%' }}>\n              <SearchBar\n                title=\"realm\"\n                userData={realms}\n                headers={['name', 'uuid']}\n                active={true}\n                link={true}\n                loading={loading}\n                pathnameData={{\n                  firstLink: `/manage/realms/edit/`,\n                  fetchData: ['uuid'],\n                  lastLink: ``\n                }}\n              />\n              <Divider />\n              <FilterToolBar\n                FilterApplyButton={FilterApplyButton}\n                sortBy={true}\n                activeStatus={true}\n              />\n              {loading ? (\n                <TableLoader />\n              ) : (\n                  <>\n                    <ReamlTable realms={realms} history={history} />\n                    {Boolean(paginateList.length) && (\n                      <Pagination\n                        paginateFn={paginate}\n                        totalItems={paginateList.length}\n                        paginateList={paginateList}\n                        itemsPerPage={6}\n                      />\n                    )}\n                  </>\n                )}\n            </div>\n          </Container>\n        }\n      </Paper>\n    </>\n  );\n};\n\nexport { Realms };\n"]},"metadata":{},"sourceType":"module"}
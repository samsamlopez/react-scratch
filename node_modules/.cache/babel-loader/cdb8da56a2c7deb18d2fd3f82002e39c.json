{"ast":null,"code":"import axios from 'axios'; // const token = localStorage.getItem(\"ngStorage-ppToken\");\n\naxios.defaults.headers.common.Accept = 'application/json';\naxios.defaults.headers.post['Content-Type'] = 'application/json'; // if (token != null) {\n//   axios.defaults.headers.common[\"Authorization\"] = `token ${token}`;\n// }\n\nconst baseUrl = '';\nconst CancelToken = axios.CancelToken;\nlet cancel;\n\nconst get = (endpoint, query) => {\n  let test = '';\n  let count = 0;\n\n  if (query) {\n    for (const key of Object.keys(query)) {\n      if (count === 0) {\n        test += `?${key}=${query[key]}`;\n      } else {\n        test += `&${key}=${query[key]}`;\n      }\n\n      count++;\n    }\n  }\n\n  return axios.get(`${endpoint}${test}`);\n};\n\nconst post = (endpoint, data) => axios.post(`${baseUrl}${endpoint}`, data, {\n  cancelToken: new CancelToken(function executor(c) {\n    cancel = c;\n  })\n});\n\nconst patch = (endpoint, data) => axios.patch(`${baseUrl}${endpoint}`, data, {\n  cancelToken: new CancelToken(function executor(c) {\n    cancel = c;\n  })\n});\n\nconst remove = endpoint => axios.delete(`${baseUrl}${endpoint}`, {\n  cancelToken: new CancelToken(function executor(c) {\n    cancel = c;\n  })\n});\n\nexport { get, post, patch, remove, cancel };","map":{"version":3,"sources":["/home/webdev/Documents/react-portal/src/utils/api.js"],"names":["axios","defaults","headers","common","Accept","post","baseUrl","CancelToken","cancel","get","endpoint","query","test","count","key","Object","keys","data","cancelToken","executor","c","patch","remove","delete"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB,C,CACA;;AAEAA,KAAK,CAACC,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8BC,MAA9B,GAAuC,kBAAvC;AACAJ,KAAK,CAACC,QAAN,CAAeC,OAAf,CAAuBG,IAAvB,CAA4B,cAA5B,IAA8C,kBAA9C,C,CACA;AACA;AACA;;AACA,MAAMC,OAAO,GAAG,EAAhB;AACA,MAAMC,WAAW,GAAGP,KAAK,CAACO,WAA1B;AACA,IAAIC,MAAJ;;AAEA,MAAMC,GAAG,GAAG,CAACC,QAAD,EAAWC,KAAX,KAAqB;AAC/B,MAAIC,IAAI,GAAG,EAAX;AACA,MAAIC,KAAK,GAAG,CAAZ;;AACA,MAAIF,KAAJ,EAAW;AACT,SAAK,MAAMG,GAAX,IAAkBC,MAAM,CAACC,IAAP,CAAYL,KAAZ,CAAlB,EAAsC;AACpC,UAAIE,KAAK,KAAK,CAAd,EAAiB;AACfD,QAAAA,IAAI,IAAK,IAAGE,GAAI,IAAGH,KAAK,CAACG,GAAD,CAAM,EAA9B;AACD,OAFD,MAEO;AACLF,QAAAA,IAAI,IAAK,IAAGE,GAAI,IAAGH,KAAK,CAACG,GAAD,CAAM,EAA9B;AACD;;AACDD,MAAAA,KAAK;AACN;AACF;;AACD,SAAOb,KAAK,CAACS,GAAN,CAAW,GAAEC,QAAS,GAAEE,IAAK,EAA7B,CAAP;AACD,CAdD;;AAgBA,MAAMP,IAAI,GAAG,CAACK,QAAD,EAAWO,IAAX,KACXjB,KAAK,CAACK,IAAN,CAAY,GAAEC,OAAQ,GAAEI,QAAS,EAAjC,EAAoCO,IAApC,EAA0C;AACxCC,EAAAA,WAAW,EAAE,IAAIX,WAAJ,CAAgB,SAASY,QAAT,CAAkBC,CAAlB,EAAqB;AAChDZ,IAAAA,MAAM,GAAGY,CAAT;AACD,GAFY;AAD2B,CAA1C,CADF;;AAMA,MAAMC,KAAK,GAAG,CAACX,QAAD,EAAWO,IAAX,KACZjB,KAAK,CAACqB,KAAN,CAAa,GAAEf,OAAQ,GAAEI,QAAS,EAAlC,EAAqCO,IAArC,EAA2C;AACzCC,EAAAA,WAAW,EAAE,IAAIX,WAAJ,CAAgB,SAASY,QAAT,CAAkBC,CAAlB,EAAqB;AAChDZ,IAAAA,MAAM,GAAGY,CAAT;AACD,GAFY;AAD4B,CAA3C,CADF;;AAMA,MAAME,MAAM,GAAGZ,QAAQ,IACrBV,KAAK,CAACuB,MAAN,CAAc,GAAEjB,OAAQ,GAAEI,QAAS,EAAnC,EAAsC;AACpCQ,EAAAA,WAAW,EAAE,IAAIX,WAAJ,CAAgB,SAASY,QAAT,CAAkBC,CAAlB,EAAqB;AAChDZ,IAAAA,MAAM,GAAGY,CAAT;AACD,GAFY;AADuB,CAAtC,CADF;;AAOA,SAASX,GAAT,EAAcJ,IAAd,EAAoBgB,KAApB,EAA2BC,MAA3B,EAAmCd,MAAnC","sourcesContent":["import axios from 'axios'\n// const token = localStorage.getItem(\"ngStorage-ppToken\");\n\naxios.defaults.headers.common.Accept = 'application/json'\naxios.defaults.headers.post['Content-Type'] = 'application/json'\n// if (token != null) {\n//   axios.defaults.headers.common[\"Authorization\"] = `token ${token}`;\n// }\nconst baseUrl = ''\nconst CancelToken = axios.CancelToken\nlet cancel\n\nconst get = (endpoint, query) => {\n  let test = ''\n  let count = 0\n  if (query) {\n    for (const key of Object.keys(query)) {\n      if (count === 0) {\n        test += `?${key}=${query[key]}`\n      } else {\n        test += `&${key}=${query[key]}`\n      }\n      count++\n    }\n  }\n  return axios.get(`${endpoint}${test}`)\n}\n\nconst post = (endpoint, data) =>\n  axios.post(`${baseUrl}${endpoint}`, data, {\n    cancelToken: new CancelToken(function executor(c) {\n      cancel = c\n    })\n  })\nconst patch = (endpoint, data) =>\n  axios.patch(`${baseUrl}${endpoint}`, data, {\n    cancelToken: new CancelToken(function executor(c) {\n      cancel = c\n    })\n  })\nconst remove = endpoint =>\n  axios.delete(`${baseUrl}${endpoint}`, {\n    cancelToken: new CancelToken(function executor(c) {\n      cancel = c\n    })\n  })\n\nexport { get, post, patch, remove, cancel }\n"]},"metadata":{},"sourceType":"module"}
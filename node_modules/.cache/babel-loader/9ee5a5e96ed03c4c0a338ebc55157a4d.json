{"ast":null,"code":"import _slicedToArray from \"/home/webdev/Documents/react-portal/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/webdev/Documents/react-portal/src/components/manage/manage-realms/settings/index.tsx\";\nimport React, { useState, useEffect } from \"react\";\n/*COMPONENTS*/\n\nimport { TableLoader, BackButton, StatusLabel } from \"common-components\";\nimport { MockCampaigns, MockRealmData } from \"../components/contsVar\"; // import { get, patch, post, cancel, getGroups } from \"../../../../utils/api\";\n\nimport RealmSettings from \"./realmSettings\";\n\nconst RealmSettingsPage = () => {\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        dataLoaded = _useState2[0],\n        setDataLoaded = _useState2[1];\n\n  const _useState3 = useState(null),\n        _useState4 = _slicedToArray(_useState3, 2),\n        realm = _useState4[0],\n        setRealm = _useState4[1];\n\n  const _useState5 = useState(null),\n        _useState6 = _slicedToArray(_useState5, 2),\n        active = _useState6[0],\n        setActive = _useState6[1];\n\n  const _useState7 = useState(\"\"),\n        _useState8 = _slicedToArray(_useState7, 2),\n        name = _useState8[0],\n        setName = _useState8[1];\n\n  const _useState9 = useState(false),\n        _useState10 = _slicedToArray(_useState9, 2),\n        saveLoader = _useState10[0],\n        setSaveLoader = _useState10[1];\n\n  const _useState11 = useState([]),\n        _useState12 = _slicedToArray(_useState11, 2),\n        campaigns = _useState12[0],\n        setCampaigns = _useState12[1];\n\n  const _useState13 = useState([]),\n        _useState14 = _slicedToArray(_useState13, 2),\n        paginateList = _useState14[0],\n        setPaginateList = _useState14[1];\n\n  const _useState15 = useState([]),\n        _useState16 = _slicedToArray(_useState15, 2),\n        campaignsOrig = _useState16[0],\n        setCampaignsOrig = _useState16[1];\n\n  let initialData = {}; // async componentDidMount() {\n  //   let active, name;\n  //   await get(`/identity/realm/${this.props.match.params.uuid}/`).then(\n  //     result => {\n  //       active = result.data.active;\n  //       name = result.data.name;\n  //       this.setState({\n  //         realm: result.data,\n  //         active,\n  //         name,\n  //         campaigns: result.data.campaigns,\n  //         campaignsOrig: result.data.campaigns,\n  //         paginateList: result.data.campaigns\n  //       });\n  //     }\n  //   );\n  //   this.initialData = { active, name };\n  //   this.setState({ dataLoaded: true });\n  // }\n\n  useEffect(() => {\n    // activeTemp = result.data.active;\n    setRealm(MockRealmData);\n    setActive(true);\n    setName(\"Test\");\n    setCampaigns(MockCampaigns);\n    setCampaignsOrig(MockCampaigns);\n    setPaginateList(MockCampaigns); // this.initialData = { active, name };\n\n    setTimeout(() => {\n      setDataLoaded(true);\n    }, 1500);\n  }, []);\n\n  const handleActive = () => {\n    setActive(!active);\n  };\n\n  const handleName = value => {\n    setName(value);\n  };\n\n  const updateRealm = () => {\n    // const { active, name, campaigns, paginateList } = this.state;\n    // this.setState({ saveLoader: true });\n    // patch(`/identity/realm/${this.props.match.params.uuid}/`, {\n    //   active,\n    //   name,\n    //   campaigns: paginateList\n    // }).then(res => {\n    //   this.initialData = { active: res.data.active, name: res.data.name };\n    //   this.setState({\n    //     realm: res.data,\n    //     saveLoader: false,\n    //     active: res.data.active,\n    //     name: res.data.name\n    //   });\n    // });\n    setSaveLoader(true);\n    setTimeout(() => {\n      setSaveLoader(false);\n    }, 1500);\n  };\n\n  const addCampaign = async campaign => {// let arrCamp = [...campaign, ...this.state.campaignsOrig];\n    // /* campaign.map(camp => {\n    //   arrCamp.push(camp);\n    // }); */\n    // this.setState({\n    //   campaigns: arrCamp,\n    //   campaignsOrig: arrCamp,\n    //   paginateList: arrCamp\n    // });\n    // const update = await patch(\n    //   `/identity/realm/${this.props.match.params.uuid}/`,\n    //   {\n    //     campaigns: arrCamp\n    //   }\n    // );\n    // return update;\n  };\n\n  const removeCampaign = async uuid => {// var campaigns = this.state.paginateList.filter(camp => {\n    //   return camp.uuid !== uuid;\n    // });\n    // this.setState({ campaigns, paginateList: campaigns });\n    // const update = await patch(\n    //   `/identity/realm/${this.props.match.params.uuid}/`,\n    //   { campaigns }\n    // );\n    // return update;\n  };\n\n  const paginate = (from, to) => {\n    const campaignsTemp = paginateList.slice(from, to);\n    setCampaigns(campaignsTemp);\n  };\n\n  var edit = JSON.stringify(initialData) === JSON.stringify({\n    active,\n    name\n  }) ? false : name.length === 0 ? false : true;\n\n  if (dataLoaded) {\n    return React.createElement(React.Fragment, null, React.createElement(BackButton, {\n      text: \"Back to realms\",\n      to: \"/manage/realms/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        alignItems: \"center\",\n        margin: \"15px 0\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      style: {\n        fontFamily: \"Roboto\",\n        fontSize: \"24px\",\n        color: \"#444851\",\n        marginRight: \"25px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, name), React.createElement(StatusLabel, {\n      status: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    })), React.createElement(RealmSettings, {\n      active: active,\n      realm: realm,\n      handleActive: handleActive,\n      handleName: handleName,\n      edit: edit,\n      updateRealm: updateRealm,\n      saveLoader: saveLoader,\n      campaigns: campaigns,\n      campaignsOrig: campaignsOrig,\n      removeCampaign: removeCampaign,\n      paginateList: paginateList,\n      paginateFn: paginate,\n      addCampaign: addCampaign,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }));\n  } else {\n    return React.createElement(TableLoader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    });\n  }\n};\n\nexport { RealmSettingsPage };","map":{"version":3,"sources":["/home/webdev/Documents/react-portal/src/components/manage/manage-realms/settings/index.tsx"],"names":["React","useState","useEffect","TableLoader","BackButton","StatusLabel","MockCampaigns","MockRealmData","RealmSettings","RealmSettingsPage","dataLoaded","setDataLoaded","realm","setRealm","active","setActive","name","setName","saveLoader","setSaveLoader","campaigns","setCampaigns","paginateList","setPaginateList","campaignsOrig","setCampaignsOrig","initialData","setTimeout","handleActive","handleName","value","updateRealm","addCampaign","campaign","removeCampaign","uuid","paginate","from","to","campaignsTemp","slice","edit","JSON","stringify","length","display","alignItems","margin","fontFamily","fontSize","color","marginRight"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\n/*COMPONENTS*/\nimport { TableLoader, BackButton, StatusLabel } from \"common-components\";\nimport {\n  MockRealm,\n  MockCampaigns,\n  MockRealmData\n} from \"../components/contsVar\";\n// import { get, patch, post, cancel, getGroups } from \"../../../../utils/api\";\n\nimport RealmSettings from \"./realmSettings\";\n\nconst RealmSettingsPage = () => {\n  const [dataLoaded, setDataLoaded] = useState<any>(false);\n  const [realm, setRealm] = useState<any>(null);\n  const [active, setActive] = useState<any>(null);\n  const [name, setName] = useState<any>(\"\");\n  const [saveLoader, setSaveLoader] = useState<any>(false);\n  const [campaigns, setCampaigns] = useState<any>([]);\n  const [paginateList, setPaginateList] = useState<any>([]);\n  const [campaignsOrig, setCampaignsOrig] = useState<any>([]);\n  let initialData: any = {};\n\n  // async componentDidMount() {\n  //   let active, name;\n  //   await get(`/identity/realm/${this.props.match.params.uuid}/`).then(\n  //     result => {\n  //       active = result.data.active;\n  //       name = result.data.name;\n  //       this.setState({\n  //         realm: result.data,\n  //         active,\n  //         name,\n  //         campaigns: result.data.campaigns,\n  //         campaignsOrig: result.data.campaigns,\n  //         paginateList: result.data.campaigns\n  //       });\n  //     }\n  //   );\n  //   this.initialData = { active, name };\n  //   this.setState({ dataLoaded: true });\n  // }\n\n  useEffect(() => {\n    // activeTemp = result.data.active;\n    setRealm(MockRealmData);\n    setActive(true);\n    setName(\"Test\");\n    setCampaigns(MockCampaigns);\n    setCampaignsOrig(MockCampaigns);\n    setPaginateList(MockCampaigns);\n    // this.initialData = { active, name };\n    setTimeout(() => {\n      setDataLoaded(true);\n    }, 1500);\n  }, []);\n\n  const handleActive = () => {\n    setActive(!active);\n  };\n\n  const handleName = (value: any) => {\n    setName(value);\n  };\n\n  const updateRealm = () => {\n    // const { active, name, campaigns, paginateList } = this.state;\n    // this.setState({ saveLoader: true });\n    // patch(`/identity/realm/${this.props.match.params.uuid}/`, {\n    //   active,\n    //   name,\n    //   campaigns: paginateList\n    // }).then(res => {\n    //   this.initialData = { active: res.data.active, name: res.data.name };\n    //   this.setState({\n    //     realm: res.data,\n    //     saveLoader: false,\n    //     active: res.data.active,\n    //     name: res.data.name\n    //   });\n    // });\n\n    setSaveLoader(true);\n    setTimeout(() => {\n      setSaveLoader(false);\n    }, 1500);\n  };\n\n  const addCampaign = async (campaign: any) => {\n    // let arrCamp = [...campaign, ...this.state.campaignsOrig];\n    // /* campaign.map(camp => {\n    //   arrCamp.push(camp);\n    // }); */\n    // this.setState({\n    //   campaigns: arrCamp,\n    //   campaignsOrig: arrCamp,\n    //   paginateList: arrCamp\n    // });\n    // const update = await patch(\n    //   `/identity/realm/${this.props.match.params.uuid}/`,\n    //   {\n    //     campaigns: arrCamp\n    //   }\n    // );\n    // return update;\n  };\n\n  const removeCampaign = async (uuid: string) => {\n    // var campaigns = this.state.paginateList.filter(camp => {\n    //   return camp.uuid !== uuid;\n    // });\n    // this.setState({ campaigns, paginateList: campaigns });\n    // const update = await patch(\n    //   `/identity/realm/${this.props.match.params.uuid}/`,\n    //   { campaigns }\n    // );\n    // return update;\n  };\n\n  const paginate = (from: number, to: number) => {\n    const campaignsTemp = paginateList.slice(from, to);\n    setCampaigns(campaignsTemp);\n  };\n\n  var edit =\n    JSON.stringify(initialData) === JSON.stringify({ active, name })\n      ? false\n      : name.length === 0\n      ? false\n      : true;\n  if (dataLoaded) {\n    return (\n      <>\n        <BackButton text=\"Back to realms\" to=\"/manage/realms/\" />\n        <div\n          style={{ display: \"flex\", alignItems: \"center\", margin: \"15px 0\" }}\n        >\n          <p\n            style={{\n              fontFamily: \"Roboto\",\n              fontSize: \"24px\",\n              color: \"#444851\",\n              marginRight: \"25px\"\n            }}\n          >\n            {name}\n          </p>\n          <StatusLabel status={true} />\n        </div>\n        <RealmSettings\n          active={active}\n          realm={realm}\n          handleActive={handleActive}\n          handleName={handleName}\n          edit={edit}\n          updateRealm={updateRealm}\n          saveLoader={saveLoader}\n          campaigns={campaigns}\n          campaignsOrig={campaignsOrig}\n          removeCampaign={removeCampaign}\n          paginateList={paginateList}\n          paginateFn={paginate}\n          addCampaign={addCampaign}\n        />\n      </>\n    );\n  } else {\n    return <TableLoader />;\n  }\n};\n\nexport { RealmSettingsPage };\n"]},"metadata":{},"sourceType":"module"}
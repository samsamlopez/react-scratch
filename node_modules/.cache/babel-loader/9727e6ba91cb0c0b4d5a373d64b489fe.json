{"ast":null,"code":"import _slicedToArray from \"/home/webdev/Documents/react-portal/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/webdev/Documents/react-portal/src/components/manage/manage-realms/old/settings/component/realm-add-campaign/AddCampaignModal.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Modal from \"../../../../../../components/common-components/Modal\";\nimport CustomCard from \"../../../../../../components/common-components/card\";\nimport CardHeader from \"../../../../../../components/common-components/card/cardheader\";\nimport CardBody from \"../../../../../../components/common-components/card/cardbody\";\nimport { Grid, makeStyles, Table, TableCell, TableRow, TableBody, Typography, Slide, Button } from \"@material-ui/core\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport CHeader from \"./components/cards/CHeader\";\nimport SaveButton from \"../../../../../../components/common-components/buttons/save-button/SaveButton\";\nimport CustomButton from \"../../../../../../components/common-components/buttons/CustomButton\";\nimport { get } from \"../../../../../../utils/api.js\";\nconst useStyles = makeStyles(theme => ({\n  table: {\n    backgroundColor: \"#FFF\"\n  },\n  row: {\n    height: 50,\n    \"&:nth-of-type(even)\": {\n      backgroundColor: \"#f8f9fa\"\n    },\n    \"&:nth-of-type(odd)\": {\n      backgroundColor: \"#FFF\"\n    }\n  },\n  cell: {\n    borderBottom: \"none\"\n  }\n}));\nconst DataMock = [{\n  id: 1,\n  name: \"Academic Advisor\"\n}, {\n  id: 2,\n  name: \"Boom Recruiting\"\n}, {\n  id: 2,\n  name: \"BKA\"\n}];\n\nfunction AddCampaignModal(props) {\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        open = _useState2[0],\n        setOpen = _useState2[1];\n\n  const _useState3 = useState([]),\n        _useState4 = _slicedToArray(_useState3, 2),\n        selectC = _useState4[0],\n        setSelectC = _useState4[1];\n\n  const _useState5 = useState([]),\n        _useState6 = _slicedToArray(_useState5, 2),\n        campaignData = _useState6[0],\n        setCampaignData = _useState6[1];\n\n  const _useState7 = useState([]),\n        _useState8 = _slicedToArray(_useState7, 2),\n        campaignDataSearchOrig = _useState8[0],\n        setCampaignDataOrig = _useState8[1];\n\n  const classes = useStyles();\n  useEffect(() => {\n    //api fetch here\n    if (props.data.length !== 0) {\n      get(\"/identity/campaign/list/\").then(res => {\n        setCampaignData(res.data.filter(dataCamp => props.data.filter(campData => campData.name === dataCamp.name).length === 0));\n        setCampaignDataOrig(res.data.filter(dataCamp => props.data.filter(campData => campData.name === dataCamp.name).length === 0));\n      });\n    } else {\n      get(\"/identity/campaign/list/\").then(res => {\n        setCampaignDataOrig(res.data);\n        setCampaignData(res.data);\n      });\n    }\n  }, [props]);\n\n  const classicSearch = result => {\n    if (result) {\n      if (result.length !== 0) {\n        setCampaignData(result);\n      } else {\n        setCampaignData(campaignDataSearchOrig);\n      }\n    } else {\n      setCampaignData(campaignDataSearchOrig);\n    }\n  };\n\n  const AddCampaignFunc = () => {\n    props.addCampaign(selectC);\n    setCampaignData(campaignDataSearchOrig);\n    setSelectC([]);\n    props.openFunc();\n  };\n\n  const CancelCampaignFunc = () => {\n    setCampaignData(campaignDataSearchOrig);\n    setSelectC([]);\n    props.openFunc();\n  };\n\n  const selectAllFunc = () => {\n    setSelectC(campaignData);\n  };\n\n  const SelectCampaign = data => {\n    let arrCamp = [...selectC];\n\n    if (selectC.length === 0) {\n      arrCamp.push(data);\n    } else {\n      if (selectC.filter(select => select.uuid === data.uuid).length === 0) {\n        arrCamp.push(data);\n      }\n    }\n\n    setSelectC(arrCamp);\n  };\n\n  const RemoveSelected = data => {\n    let arrCamp = [];\n    arrCamp = selectC.filter(arr => arr !== data);\n    setSelectC(arrCamp);\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }, React.createElement(Modal, {\n    open: props.open,\n    title: \"Add Campaign\",\n    onClose: () => {\n      setSelectC([]);\n      props.openFunc();\n    },\n    width: 750,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    style: {\n      height: 575,\n      overflow: \"hidden\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  }, \"Campaign\", React.createElement(Grid, {\n    container: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }, React.createElement(CustomCard, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }, React.createElement(CHeader, {\n    title: `${selectC.length} items selected`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }), React.createElement(CardBody, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146\n    },\n    __self: this\n  }, React.createElement(Table, {\n    className: classes.table,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  }, React.createElement(TableBody, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  }, selectC.length !== 0 && selectC.map((campaign, i) => React.createElement(Slide, {\n    key: i,\n    direction: \"left\",\n    in: true,\n    mountOnEnter: true,\n    unmountOnExit: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151\n    },\n    __self: this\n  }, React.createElement(TableRow, {\n    key: i,\n    className: classes.row,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  }, React.createElement(TableCell, {\n    className: classes.cell,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159\n    },\n    __self: this\n  }, campaign.name), React.createElement(TableCell, {\n    className: classes.cell,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    style: {\n      cursor: \"pointer\",\n      display: \"flex\",\n      justifyContent: \"flex-end\"\n    },\n    onClick: () => RemoveSelected(campaign),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163\n    },\n    __self: this\n  }, React.createElement(CloseIcon, {\n    style: {\n      width: 20,\n      height: 20\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171\n    },\n    __self: this\n  }), \"Remove\")))))))))), React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185\n    },\n    __self: this\n  }, React.createElement(CustomCard, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186\n    },\n    __self: this\n  }, React.createElement(CHeader, {\n    title: \"Campaign list\",\n    searchData: campaignData,\n    searchFor: `campaign`,\n    selectAllFunc: selectAllFunc,\n    searchHeaders: [\"name\"],\n    classicSearch: classicSearch,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187\n    },\n    __self: this\n  }), React.createElement(CardBody, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195\n    },\n    __self: this\n  }, React.createElement(Table, {\n    className: classes.table,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196\n    },\n    __self: this\n  }, React.createElement(TableBody, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197\n    },\n    __self: this\n  }, campaignData.map((data, i) => React.createElement(TableRow, {\n    className: classes.row,\n    key: i,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199\n    },\n    __self: this\n  }, React.createElement(TableCell, {\n    className: classes.cell,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200\n    },\n    __self: this\n  }, data.name), React.createElement(TableCell, {\n    className: classes.cell,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    style: {\n      cursor: \"pointer\",\n      display: \"flex\",\n      justifyContent: \"flex-end\"\n    },\n    onClick: () => SelectCampaign(data),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204\n    },\n    __self: this\n  }, React.createElement(AddIcon, {\n    style: {\n      width: 20,\n      height: 20\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212\n    },\n    __self: this\n  }), \"Add\"))))))))))), React.createElement(Grid, {\n    container: true,\n    justify: \"center\",\n    style: {\n      paddingTop: 20\n    },\n    spacing: 2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    item: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226\n    },\n    __self: this\n  }, React.createElement(CustomButton, {\n    onClick: AddCampaignFunc,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227\n    },\n    __self: this\n  }, \"Save\")), React.createElement(Grid, {\n    item: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229\n    },\n    __self: this\n  }, React.createElement(CustomButton, {\n    onClick: CancelCampaignFunc,\n    style: {\n      backgroundColor: \"#eee\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230\n    },\n    __self: this\n  }, React.createElement(\"strong\", {\n    style: {\n      color: \"#444851\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234\n    },\n    __self: this\n  }, \"Cancel\"))))));\n}\n\nexport default AddCampaignModal;","map":{"version":3,"sources":["/home/webdev/Documents/react-portal/src/components/manage/manage-realms/old/settings/component/realm-add-campaign/AddCampaignModal.js"],"names":["React","useState","useEffect","Modal","CustomCard","CardHeader","CardBody","Grid","makeStyles","Table","TableCell","TableRow","TableBody","Typography","Slide","Button","AddIcon","CloseIcon","CHeader","SaveButton","CustomButton","get","useStyles","theme","table","backgroundColor","row","height","cell","borderBottom","DataMock","id","name","AddCampaignModal","props","open","setOpen","selectC","setSelectC","campaignData","setCampaignData","campaignDataSearchOrig","setCampaignDataOrig","classes","data","length","then","res","filter","dataCamp","campData","classicSearch","result","AddCampaignFunc","addCampaign","openFunc","CancelCampaignFunc","selectAllFunc","SelectCampaign","arrCamp","push","select","uuid","RemoveSelected","arr","overflow","map","campaign","i","cursor","display","justifyContent","width","paddingTop","color"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Modal from \"../../../../../../components/common-components/Modal\";\nimport CustomCard from \"../../../../../../components/common-components/card\";\nimport CardHeader from \"../../../../../../components/common-components/card/cardheader\";\nimport CardBody from \"../../../../../../components/common-components/card/cardbody\";\nimport {\n  Grid,\n  makeStyles,\n  Table,\n  TableCell,\n  TableRow,\n  TableBody,\n  Typography,\n  Slide,\n  Button\n} from \"@material-ui/core\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport CloseIcon from \"@material-ui/icons/Close\";\n\nimport CHeader from \"./components/cards/CHeader\";\nimport SaveButton from \"../../../../../../components/common-components/buttons/save-button/SaveButton\";\nimport CustomButton from \"../../../../../../components/common-components/buttons/CustomButton\";\nimport { get } from \"../../../../../../utils/api.js\";\n\nconst useStyles = makeStyles(theme => ({\n  table: {\n    backgroundColor: \"#FFF\"\n  },\n  row: {\n    height: 50,\n    \"&:nth-of-type(even)\": {\n      backgroundColor: \"#f8f9fa\"\n    },\n    \"&:nth-of-type(odd)\": {\n      backgroundColor: \"#FFF\"\n    }\n  },\n  cell: {\n    borderBottom: \"none\"\n  }\n}));\nconst DataMock = [\n  { id: 1, name: \"Academic Advisor\" },\n  { id: 2, name: \"Boom Recruiting\" },\n  { id: 2, name: \"BKA\" }\n];\nfunction AddCampaignModal(props) {\n  const [open, setOpen] = useState(false);\n  const [selectC, setSelectC] = useState([]);\n  const [campaignData, setCampaignData] = useState([]);\n  const [campaignDataSearchOrig, setCampaignDataOrig] = useState([]);\n  const classes = useStyles();\n\n  useEffect(() => {\n    //api fetch here\n    if (props.data.length !== 0) {\n      get(\"/identity/campaign/list/\").then(res => {\n        setCampaignData(\n          res.data.filter(\n            dataCamp =>\n              props.data.filter(campData => campData.name === dataCamp.name)\n                .length === 0\n          )\n        );\n        setCampaignDataOrig(\n          res.data.filter(\n            dataCamp =>\n              props.data.filter(campData => campData.name === dataCamp.name)\n                .length === 0\n          )\n        );\n      });\n    } else {\n      get(\"/identity/campaign/list/\").then(res => {\n        setCampaignDataOrig(res.data);\n        setCampaignData(res.data);\n      });\n    }\n  }, [props]);\n\n  const classicSearch = result => {\n    if (result) {\n      if (result.length !== 0) {\n        setCampaignData(result);\n      } else {\n        setCampaignData(campaignDataSearchOrig);\n      }\n    } else {\n      setCampaignData(campaignDataSearchOrig);\n    }\n  };\n\n  const AddCampaignFunc = () => {\n    props.addCampaign(selectC);\n    setCampaignData(campaignDataSearchOrig);\n    setSelectC([]);\n    props.openFunc();\n  };\n\n  const CancelCampaignFunc = () => {\n    setCampaignData(campaignDataSearchOrig);\n    setSelectC([]);\n    props.openFunc();\n  };\n  const selectAllFunc = () => {\n    setSelectC(campaignData);\n  };\n\n  const SelectCampaign = data => {\n    let arrCamp = [...selectC];\n    if (selectC.length === 0) {\n      arrCamp.push(data);\n    } else {\n      if (selectC.filter(select => select.uuid === data.uuid).length === 0) {\n        arrCamp.push(data);\n      }\n    }\n\n    setSelectC(arrCamp);\n  };\n\n  const RemoveSelected = data => {\n    let arrCamp = [];\n    arrCamp = selectC.filter(arr => arr !== data);\n\n    setSelectC(arrCamp);\n  };\n\n  return (\n    <div>\n      <Modal\n        open={props.open}\n        title=\"Add Campaign\"\n        onClose={() => {\n          setSelectC([]);\n          props.openFunc();\n        }}\n        width={750}\n      >\n        <div style={{ height: 575, overflow: \"hidden\" }}>\n          Campaign\n          <Grid container>\n            <Grid item xs={6}>\n              <CustomCard>\n                <CHeader title={`${selectC.length} items selected`} />\n                <CardBody>\n                  <Table className={classes.table}>\n                    <TableBody>\n                      {selectC.length !== 0 &&\n                        selectC.map((campaign, i) => (\n                          <Slide\n                            key={i}\n                            direction=\"left\"\n                            in={true}\n                            mountOnEnter\n                            unmountOnExit\n                          >\n                            <TableRow key={i} className={classes.row}>\n                              <TableCell className={classes.cell}>\n                                {campaign.name}\n                              </TableCell>\n                              <TableCell className={classes.cell}>\n                                <div\n                                  style={{\n                                    cursor: \"pointer\",\n                                    display: \"flex\",\n                                    justifyContent: \"flex-end\"\n                                  }}\n                                  onClick={() => RemoveSelected(campaign)}\n                                >\n                                  <CloseIcon\n                                    style={{ width: 20, height: 20 }}\n                                  />\n                                  Remove\n                                </div>\n                              </TableCell>\n                            </TableRow>\n                          </Slide>\n                        ))}\n                    </TableBody>\n                  </Table>\n                </CardBody>\n              </CustomCard>\n            </Grid>\n            <Grid item xs={6}>\n              <CustomCard>\n                <CHeader\n                  title=\"Campaign list\"\n                  searchData={campaignData}\n                  searchFor={`campaign`}\n                  selectAllFunc={selectAllFunc}\n                  searchHeaders={[\"name\"]}\n                  classicSearch={classicSearch}\n                />\n                <CardBody>\n                  <Table className={classes.table}>\n                    <TableBody>\n                      {campaignData.map((data, i) => (\n                        <TableRow className={classes.row} key={i}>\n                          <TableCell className={classes.cell}>\n                            {data.name}\n                          </TableCell>\n                          <TableCell className={classes.cell}>\n                            <div\n                              style={{\n                                cursor: \"pointer\",\n                                display: \"flex\",\n                                justifyContent: \"flex-end\"\n                              }}\n                              onClick={() => SelectCampaign(data)}\n                            >\n                              <AddIcon style={{ width: 20, height: 20 }} />\n                              Add\n                            </div>\n                          </TableCell>\n                        </TableRow>\n                      ))}\n                    </TableBody>\n                  </Table>\n                </CardBody>\n              </CustomCard>\n            </Grid>\n          </Grid>\n        </div>\n        <Grid container justify=\"center\" style={{ paddingTop: 20 }} spacing={2}>\n          <Grid item>\n            <CustomButton onClick={AddCampaignFunc}>Save</CustomButton>\n          </Grid>\n          <Grid item>\n            <CustomButton\n              onClick={CancelCampaignFunc}\n              style={{ backgroundColor: \"#eee\" }}\n            >\n              <strong style={{ color: \"#444851\" }}>Cancel</strong>\n            </CustomButton>\n          </Grid>\n        </Grid>\n      </Modal>\n    </div>\n  );\n}\n\nexport default AddCampaignModal;\n"]},"metadata":{},"sourceType":"module"}
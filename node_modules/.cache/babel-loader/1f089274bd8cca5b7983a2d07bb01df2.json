{"ast":null,"code":"import _objectSpread from \"/home/webdev/Documents/react-portal/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/home/webdev/Documents/react-portal/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/webdev/Documents/react-portal/src/components/manage/campaigns/Campaigns.jsx\";\nimport React, { useState, useEffect } from \"react\";\nimport { HeaderLink, HeaderButton, SearchBar, FilterToolBar, Pagination } from \"common-components\";\nimport { menus, mockDataCampaigns } from \"../globalConstsVar\";\nimport CampaignTable from \"./CampaignTable\";\nimport SEO from \"utils/seo\";\nimport { get } from \"../../../utils/api\";\nimport { Paper, Divider } from \"@material-ui/core\";\nexport default function Campaigns({\n  history\n}) {\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        loading = _useState2[0],\n        setLoading = _useState2[1];\n\n  const _useState3 = useState([]),\n        _useState4 = _slicedToArray(_useState3, 2),\n        data = _useState4[0],\n        setData = _useState4[1];\n\n  const _useState5 = useState([]),\n        _useState6 = _slicedToArray(_useState5, 2),\n        paginateList = _useState6[0],\n        setPaginateList = _useState6[1];\n\n  useEffect(() => {\n    setLoading(true);\n    setTimeout(() => {\n      get(\"/identity/campaign/list/\").then(result => {\n        setData(result.data);\n        setPaginateList(result.data);\n        setLoading(false);\n      }).catch(() => {\n        setData(mockDataCampaigns);\n        setLoading(false);\n        setPaginateList(mockDataCampaigns);\n      });\n    }, 200);\n  }, []);\n\n  function FilterApplyButton(params) {\n    setLoading(true);\n\n    var parameter = _objectSpread({}, params.sortby !== \" \" && {\n      order_by: params.sortby\n    }, {}, params.active !== \" \" && {\n      active: params.active\n    }, {}, params.company !== \" \" && {\n      company: params.company\n    }, {}, params.realm !== \" \" && {\n      realms: params.realm\n    }, {}, params.campaign !== \" \" && {\n      campaigns: params.campaign\n    }, {}, params.roles !== \" \" && {\n      groups: params.roles\n    }, {}, params.hasCompany !== \" \" && {\n      no_company: !params.hasCompany\n    });\n\n    get(\"/identity/campaign/list/\", parameter).then(res => {\n      setData(res.data);\n      setPaginateList(res.data);\n      setLoading(false);\n    }).catch(() => {\n      setData([]);\n      setPaginateList([]);\n      setLoading(false);\n    });\n  }\n\n  const paginate = (from, to) => {\n    setPaginateList(data.slice(from, to));\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(SEO, {\n    title: \"Manage Campaigns\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }), renderHeader(data), React.createElement(Paper, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(SearchBar, {\n    title: \"Campaign\",\n    userData: data,\n    headers: [\"name\", \"slug\", \"uuid\"],\n    loading: loading,\n    active: true,\n    link: true,\n    pathnameData: {\n      firstLink: `/manage/campaign/edit/`,\n      fetchData: [\"slug\", \"uuid\"],\n      lastLink: `/settings`\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }), React.createElement(Divider, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }), React.createElement(FilterToolBar, {\n    FilterApplyButton: FilterApplyButton,\n    sortBy: true,\n    activeStatus: true,\n    realm: true,\n    company: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }), React.createElement(CampaignTable, {\n    loading: loading,\n    data: paginateList,\n    history: history,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    style: {\n      width: \"100%\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, React.createElement(Divider, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }), Boolean(paginateList.length) && React.createElement(Pagination, {\n    paginateFn: paginate,\n    totalItems: data.length,\n    paginateList: data,\n    itemsPerPage: 7,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }))));\n}\n\nfunction renderHeader(data) {\n  return React.createElement(\"div\", {\n    className: \"header-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, React.createElement(HeaderLink, {\n    menu: menus,\n    title: \"Campaigns\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }), data.length > 0 && React.createElement(HeaderButton, {\n    openFunction: () => {\n      return null;\n    },\n    buttonText: \"New Campaign\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }));\n}","map":{"version":3,"sources":["/home/webdev/Documents/react-portal/src/components/manage/campaigns/Campaigns.jsx"],"names":["React","useState","useEffect","HeaderLink","HeaderButton","SearchBar","FilterToolBar","Pagination","menus","mockDataCampaigns","CampaignTable","SEO","get","Paper","Divider","Campaigns","history","loading","setLoading","data","setData","paginateList","setPaginateList","setTimeout","then","result","catch","FilterApplyButton","params","parameter","sortby","order_by","active","company","realm","realms","campaign","campaigns","roles","groups","hasCompany","no_company","res","paginate","from","to","slice","renderHeader","firstLink","fetchData","lastLink","width","Boolean","length"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  HeaderLink,\n  HeaderButton,\n  SearchBar,\n  FilterToolBar,\n  Pagination\n} from \"common-components\";\nimport { menus, mockDataCampaigns } from \"../globalConstsVar\";\nimport CampaignTable from \"./CampaignTable\";\nimport SEO from \"utils/seo\";\nimport { get } from \"../../../utils/api\";\nimport { Paper, Divider } from \"@material-ui/core\";\nexport default function Campaigns({ history }) {\n  const [loading, setLoading] = useState(false);\n  const [data, setData] = useState([]);\n  const [paginateList, setPaginateList] = useState([]);\n\n  useEffect(() => {\n    setLoading(true);\n    setTimeout(() => {\n      get(\"/identity/campaign/list/\")\n        .then(result => {\n          setData(result.data);\n          setPaginateList(result.data);\n          setLoading(false);\n        })\n        .catch(() => {\n          setData(mockDataCampaigns);\n          setLoading(false);\n          setPaginateList(mockDataCampaigns);\n        });\n    }, 200);\n  }, []);\n\n  function FilterApplyButton(params) {\n    setLoading(true);\n    var parameter = {\n      ...(params.sortby !== \" \" && { order_by: params.sortby }),\n      ...(params.active !== \" \" && { active: params.active }),\n      ...(params.company !== \" \" && { company: params.company }),\n      ...(params.realm !== \" \" && { realms: params.realm }),\n      ...(params.campaign !== \" \" && { campaigns: params.campaign }),\n      ...(params.roles !== \" \" && { groups: params.roles }),\n      ...(params.hasCompany !== \" \" && { no_company: !params.hasCompany })\n    };\n\n    get(\"/identity/campaign/list/\", parameter)\n      .then(res => {\n        setData(res.data);\n        setPaginateList(res.data);\n        setLoading(false);\n      })\n      .catch(() => {\n        setData([]);\n        setPaginateList([]);\n        setLoading(false);\n      });\n  }\n  const paginate = (from, to) => {\n    setPaginateList(data.slice(from, to));\n  };\n  return (\n    <div>\n      <SEO title=\"Manage Campaigns\" />\n      {renderHeader(data)}\n      <Paper>\n        <SearchBar\n          title=\"Campaign\"\n          userData={data}\n          headers={[\"name\", \"slug\", \"uuid\"]}\n          loading={loading}\n          active={true}\n          link={true}\n          pathnameData={{\n            firstLink: `/manage/campaign/edit/`,\n            fetchData: [\"slug\", \"uuid\"],\n            lastLink: `/settings`\n          }}\n        />\n        <Divider />\n        <FilterToolBar\n          FilterApplyButton={FilterApplyButton}\n          sortBy={true}\n          activeStatus={true}\n          realm={true}\n          company={true}\n        />\n\n        <CampaignTable\n          loading={loading}\n          data={paginateList}\n          history={history}\n        />\n        <div style={{ width: \"100%\" }}>\n          <Divider />\n          {Boolean(paginateList.length) && (\n            <Pagination\n              paginateFn={paginate}\n              totalItems={data.length}\n              paginateList={data}\n              itemsPerPage={7}\n            />\n          )}\n        </div>\n      </Paper>\n    </div>\n  );\n}\n\nfunction renderHeader(data) {\n  return (\n    <div className=\"header-container\">\n      <HeaderLink menu={menus} title=\"Campaigns\" />\n      {data.length > 0 && (\n        <HeaderButton\n          openFunction={() => {\n            return null;\n          }}\n          buttonText=\"New Campaign\"\n        />\n      )}\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}
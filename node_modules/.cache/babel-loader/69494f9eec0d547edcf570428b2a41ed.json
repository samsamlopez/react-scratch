{"ast":null,"code":"import _slicedToArray from \"/home/webdev/Documents/react-portal/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/webdev/Documents/react-portal/src/common-components/head-menu/index.tsx\";\n\n/* eslint-disable import/first */\nimport React, { useState } from \"react\";\nimport clsx from \"clsx\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport AccountCircleIcon from \"@material-ui/icons/AccountCircle\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport Grow from \"@material-ui/core/Grow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Popper from \"@material-ui/core/Popper\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport MenuList from \"@material-ui/core/MenuList\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport PowerSettingsNewIcon from \"@material-ui/icons/PowerSettingsNew\";\nimport { Face as FaceIcon } from \"@material-ui/icons\";\nimport ClickAwayListener from \"@material-ui/core/ClickAwayListener\"; // import logout from '../../../auth/controllers/logout'\n// import getData from '../../../auth/controllers/getUserData'\n\nimport { SideNav, DashboardSidenav } from \"common-components\";\nimport logo from \"assets/images/pp_logo_white_font.png\";\nimport { useStyles, StyledLink, Img, NotifIcon, WelcomeName } from \"./style\";\n\nconst HeadMenu = ({\n  location\n}) => {\n  const classes = useStyles();\n\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        open = _useState2[0],\n        setOpen = _useState2[1];\n\n  const _useState3 = useState(\"Loading...\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        wholeName = _useState4[0],\n        setWholeName = _useState4[1];\n\n  const _useState5 = useState(\"\"),\n        _useState6 = _slicedToArray(_useState5, 2),\n        name = _useState6[0],\n        setName = _useState6[1];\n\n  React.useEffect(() => {\n    result();\n  }, []);\n\n  const result = async () => {\n    const res = await getData();\n\n    if (res) {\n      setWholeName(`${res.first_name} ${res.last_name}`);\n      setName(res.first_name);\n    }\n  };\n\n  const drawerOpen = () => {\n    setOpen(true);\n  };\n\n  const handleDrawerClose = () => {\n    setOpen(!open);\n  };\n\n  const _React$useState = React.useState(false),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        _open = _React$useState2[0],\n        _setOpen = _React$useState2[1];\n\n  const anchorRef = React.useRef(null);\n\n  function handleToggle() {\n    _setOpen(prevOpen => !prevOpen);\n  }\n\n  const handleClose = event => {\n    if (anchorRef.current && anchorRef.current.contains(event.target)) {\n      return;\n    }\n\n    _setOpen(false);\n  };\n\n  function jsUcfirst(string) {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  }\n\n  return React.createElement(\"div\", {\n    className: classes.root,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, React.createElement(CssBaseline, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }), React.createElement(AppBar, {\n    position: \"fixed\",\n    className: clsx(classes.appBar),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, React.createElement(Toolbar, {\n    className: classes.toolbar,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, React.createElement(IconButton, {\n    edge: \"start\",\n    color: \"inherit\",\n    onClick: drawerOpen,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, React.createElement(MenuIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  })), React.createElement(Img, {\n    src: logo,\n    alt: \"logo\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }), name ? React.createElement(WelcomeName, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, jsUcfirst(name), \", welcome to your dashboard!\") : null, React.createElement(NotifIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }), React.createElement(AccountCircleIcon, {\n    fontSize: \"large\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }), React.createElement(Typography, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, wholeName), React.createElement(IconButton, {\n    ref: anchorRef,\n    onClick: handleToggle,\n    style: {\n      color: \"white\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, React.createElement(ExpandMoreIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  })), React.createElement(Popper, {\n    open: _open,\n    anchorEl: anchorRef.current,\n    placement: \"bottom\",\n    transition: true,\n    disablePortal: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, ({\n    TransitionProps,\n    placement\n  }) => React.createElement(Grow, Object.assign({\n    in: _open\n  }, TransitionProps, {\n    style: {\n      transformOrigin: placement === \"bottom\" ? \"center top\" : \"center bottom\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }), React.createElement(Paper, {\n    id: \"menu-list-grow\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, React.createElement(ClickAwayListener, {\n    onClickAway: handleClose,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }, React.createElement(MenuList, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }, React.createElement(StyledLink, {\n    to: \"/change-password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, React.createElement(MenuItem, {\n    onClick: handleClose,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }, React.createElement(ListItemIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131\n    },\n    __self: this\n  }, React.createElement(FaceIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132\n    },\n    __self: this\n  })), React.createElement(ListItemText, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    style: {\n      fontSize: \"15px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  }, \"Change Password\")))), React.createElement(MenuItem, {\n    onClick: () => {\n      logout();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }, React.createElement(ListItemIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  }, React.createElement(PowerSettingsNewIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151\n    },\n    __self: this\n  })), React.createElement(ListItemText, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    style: {\n      fontSize: \"15px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154\n    },\n    __self: this\n  }, \"Logout\")))))))))), (location.pathname.includes(\"/manage\") || location.pathname.includes(\"/change\")) && React.createElement(SideNav, {\n    handleDrawerClose: handleDrawerClose,\n    open: open,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174\n    },\n    __self: this\n  }), location.pathname.includes(\"/dashboard\") && React.createElement(DashboardSidenav, Object.assign({\n    handleDrawerClose: handleDrawerClose,\n    drawerOpen: drawerOpen,\n    open: open\n  }, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178\n    },\n    __self: this\n  })));\n};\n\nHeadMenu.defaultProps = {\n  location: {\n    pathname: \"/manage/user\"\n  },\n  getData: () => {\n    return {\n      first_name: \"StoryBook\",\n      last_name: \"User\"\n    };\n  },\n  logout: () => {\n    alert(\"Logout\");\n  }\n};\nexport { HeadMenu };","map":{"version":3,"sources":["/home/webdev/Documents/react-portal/src/common-components/head-menu/index.tsx"],"names":["React","useState","clsx","CssBaseline","AppBar","Toolbar","Typography","IconButton","MenuIcon","AccountCircleIcon","ExpandMoreIcon","Grow","Paper","Popper","MenuItem","MenuList","ListItemIcon","ListItemText","PowerSettingsNewIcon","Face","FaceIcon","ClickAwayListener","SideNav","DashboardSidenav","logo","useStyles","StyledLink","Img","NotifIcon","WelcomeName","HeadMenu","location","classes","open","setOpen","wholeName","setWholeName","name","setName","useEffect","result","res","getData","first_name","last_name","drawerOpen","handleDrawerClose","_open","_setOpen","anchorRef","useRef","handleToggle","prevOpen","handleClose","event","current","contains","target","jsUcfirst","string","charAt","toUpperCase","slice","root","appBar","toolbar","color","TransitionProps","placement","transformOrigin","fontSize","logout","pathname","includes","props","defaultProps","alert"],"mappings":";;;AAAA;AACA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,IAAP,MAAiB,MAAjB;AAEA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,OAAP,MAAoB,2BAApB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,QAAP,MAAqB,yBAArB;AACA,OAAOC,iBAAP,MAA8B,kCAA9B;AACA,OAAOC,cAAP,MAA2B,+BAA3B;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,YAAP,MAAyB,gCAAzB;AACA,OAAOC,YAAP,MAAyB,gCAAzB;AACA,OAAOC,oBAAP,MAAiC,qCAAjC;AACA,SAASC,IAAI,IAAIC,QAAjB,QAAgD,oBAAhD;AACA,OAAOC,iBAAP,MAA8B,qCAA9B,C,CAEA;AACA;;AACA,SAASC,OAAT,EAAkBC,gBAAlB,QAA0C,mBAA1C;AACA,OAAOC,IAAP,MAAiB,sCAAjB;AACA,SAASC,SAAT,EAAoBC,UAApB,EAAgCC,GAAhC,EAAqCC,SAArC,EAAgDC,WAAhD,QAAmE,SAAnE;;AAYA,MAAMC,QAAiC,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAkB;AAC1D,QAAMC,OAAO,GAAGP,SAAS,EAAzB;;AAD0D,oBAElCxB,QAAQ,CAAU,KAAV,CAF0B;AAAA;AAAA,QAEnDgC,IAFmD;AAAA,QAE7CC,OAF6C;;AAAA,qBAGxBjC,QAAQ,CAAS,YAAT,CAHgB;AAAA;AAAA,QAGnDkC,SAHmD;AAAA,QAGxCC,YAHwC;;AAAA,qBAIlCnC,QAAQ,CAAS,EAAT,CAJ0B;AAAA;AAAA,QAInDoC,IAJmD;AAAA,QAI7CC,OAJ6C;;AAM1DtC,EAAAA,KAAK,CAACuC,SAAN,CAAgB,MAAM;AACpBC,IAAAA,MAAM;AACP,GAFD,EAEG,EAFH;;AAIA,QAAMA,MAAM,GAAG,YAAY;AACzB,UAAMC,GAAG,GAAG,MAAMC,OAAO,EAAzB;;AACA,QAAID,GAAJ,EAAS;AACPL,MAAAA,YAAY,CAAE,GAAEK,GAAG,CAACE,UAAW,IAAGF,GAAG,CAACG,SAAU,EAApC,CAAZ;AACAN,MAAAA,OAAO,CAACG,GAAG,CAACE,UAAL,CAAP;AACD;AACF,GAND;;AAQA,QAAME,UAAU,GAAG,MAAM;AACvBX,IAAAA,OAAO,CAAC,IAAD,CAAP;AACD,GAFD;;AAGA,QAAMY,iBAAiB,GAAG,MAAM;AAC9BZ,IAAAA,OAAO,CAAC,CAACD,IAAF,CAAP;AACD,GAFD;;AArB0D,0BAyBhCjC,KAAK,CAACC,QAAN,CAAe,KAAf,CAzBgC;AAAA;AAAA,QAyBnD8C,KAzBmD;AAAA,QAyB5CC,QAzB4C;;AA0B1D,QAAMC,SAAS,GAAGjD,KAAK,CAACkD,MAAN,CAAkB,IAAlB,CAAlB;;AAEA,WAASC,YAAT,GAAwB;AACtBH,IAAAA,QAAQ,CAACI,QAAQ,IAAI,CAACA,QAAd,CAAR;AACD;;AAED,QAAMC,WAAW,GAAIC,KAAD,IAAgB;AAClC,QAAIL,SAAS,CAACM,OAAV,IAAqBN,SAAS,CAACM,OAAV,CAAkBC,QAAlB,CAA2BF,KAAK,CAACG,MAAjC,CAAzB,EAAmE;AACjE;AACD;;AAEDT,IAAAA,QAAQ,CAAC,KAAD,CAAR;AACD,GAND;;AAQA,WAASU,SAAT,CAAmBC,MAAnB,EAAmC;AACjC,WAAOA,MAAM,CAACC,MAAP,CAAc,CAAd,EAAiBC,WAAjB,KAAiCF,MAAM,CAACG,KAAP,CAAa,CAAb,CAAxC;AACD;;AAED,SACE;AAAK,IAAA,SAAS,EAAE9B,OAAO,CAAC+B,IAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE,oBAAC,MAAD;AAAQ,IAAA,QAAQ,EAAC,OAAjB;AAAyB,IAAA,SAAS,EAAE7D,IAAI,CAAC8B,OAAO,CAACgC,MAAT,CAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,OAAD;AAAS,IAAA,SAAS,EAAEhC,OAAO,CAACiC,OAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,UAAD;AAAY,IAAA,IAAI,EAAC,OAAjB;AAAyB,IAAA,KAAK,EAAC,SAA/B;AAAyC,IAAA,OAAO,EAAEpB,UAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,EAIE,oBAAC,GAAD;AAAK,IAAA,GAAG,EAAErB,IAAV;AAAgB,IAAA,GAAG,EAAC,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,EAKGa,IAAI,GACH,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGqB,SAAS,CAACrB,IAAD,CADZ,iCADG,GAID,IATN,EAUE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVF,EAWE,oBAAC,iBAAD;AAAmB,IAAA,QAAQ,EAAC,OAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAXF,EAYE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAaF,SAAb,CAZF,EAaE,oBAAC,UAAD;AACE,IAAA,GAAG,EAAEc,SADP;AAEE,IAAA,OAAO,EAAEE,YAFX;AAGE,IAAA,KAAK,EAAE;AACLe,MAAAA,KAAK,EAAE;AADF,KAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAOE,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,CAbF,EAsBE,oBAAC,MAAD;AACE,IAAA,IAAI,EAAEnB,KADR;AAEE,IAAA,QAAQ,EAAEE,SAAS,CAACM,OAFtB;AAGE,IAAA,SAAS,EAAE,QAHb;AAIE,IAAA,UAAU,MAJZ;AAKE,IAAA,aAAa,MALf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAOG,CAAC;AAAEY,IAAAA,eAAF;AAAmBC,IAAAA;AAAnB,GAAD,KACC,oBAAC,IAAD;AACE,IAAA,EAAE,EAAErB;AADN,KAEMoB,eAFN;AAGE,IAAA,KAAK,EAAE;AACLE,MAAAA,eAAe,EACbD,SAAS,KAAK,QAAd,GAAyB,YAAzB,GAAwC;AAFrC,KAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAQE,oBAAC,KAAD;AAAO,IAAA,EAAE,EAAC,gBAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,iBAAD;AAAmB,IAAA,WAAW,EAAEf,WAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,UAAD;AAAY,IAAA,EAAE,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,QAAD;AAAU,IAAA,OAAO,EAAEA,WAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,EAIE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,UAAD;AACE,IAAA,KAAK,EAAE;AACLiB,MAAAA,QAAQ,EAAE;AADL,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADF,CAJF,CADF,CADF,EAiBE,oBAAC,QAAD;AACE,IAAA,OAAO,EAAE,MAAM;AACbC,MAAAA,MAAM;AACP,KAHH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,oBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CALF,EAQE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,UAAD;AACE,IAAA,KAAK,EAAE;AACLD,MAAAA,QAAQ,EAAE;AADL,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,CARF,CAjBF,CADF,CADF,CARF,CARJ,CAtBF,CADF,CAFF,EAuFG,CAACvC,QAAQ,CAACyC,QAAT,CAAkBC,QAAlB,CAA2B,SAA3B,KACA1C,QAAQ,CAACyC,QAAT,CAAkBC,QAAlB,CAA2B,SAA3B,CADD,KAEC,oBAAC,OAAD;AAAS,IAAA,iBAAiB,EAAE3B,iBAA5B;AAA+C,IAAA,IAAI,EAAEb,IAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAzFJ,EA4FGF,QAAQ,CAACyC,QAAT,CAAkBC,QAAlB,CAA2B,YAA3B,KACC,oBAAC,gBAAD;AACE,IAAA,iBAAiB,EAAE3B,iBADrB;AAEE,IAAA,UAAU,EAAED,UAFd;AAGE,IAAA,IAAI,EAAEZ;AAHR,KAIMyC,KAJN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KA7FJ,CADF;AAuGD,CAnJD;;AAqJA5C,QAAQ,CAAC6C,YAAT,GAAwB;AACtB5C,EAAAA,QAAQ,EAAE;AAAEyC,IAAAA,QAAQ,EAAE;AAAZ,GADY;AAEtB9B,EAAAA,OAAO,EAAE,MAAM;AACb,WAAO;AAAEC,MAAAA,UAAU,EAAE,WAAd;AAA2BC,MAAAA,SAAS,EAAE;AAAtC,KAAP;AACD,GAJqB;AAKtB2B,EAAAA,MAAM,EAAE,MAAM;AACZK,IAAAA,KAAK,CAAC,QAAD,CAAL;AACD;AAPqB,CAAxB;AAUA,SAAS9C,QAAT","sourcesContent":["/* eslint-disable import/first */\nimport React, { useState } from \"react\";\nimport clsx from \"clsx\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport AccountCircleIcon from \"@material-ui/icons/AccountCircle\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport Grow from \"@material-ui/core/Grow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Popper from \"@material-ui/core/Popper\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport MenuList from \"@material-ui/core/MenuList\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport PowerSettingsNewIcon from \"@material-ui/icons/PowerSettingsNew\";\nimport { Face as FaceIcon, Notifications } from \"@material-ui/icons\";\nimport ClickAwayListener from \"@material-ui/core/ClickAwayListener\";\n\n// import logout from '../../../auth/controllers/logout'\n// import getData from '../../../auth/controllers/getUserData'\nimport { SideNav, DashboardSidenav } from \"common-components\";\nimport logo from \"assets/images/pp_logo_white_font.png\";\nimport { useStyles, StyledLink, Img, NotifIcon, WelcomeName } from \"./style\";\n\ninterface HeadMenuProps {\n  location: Obj;\n  logout: Function;\n  getData: Function;\n}\n\ninterface Obj {\n  [index: string]: any;\n}\n\nconst HeadMenu: React.FC<HeadMenuProps> = ({ location }) => {\n  const classes = useStyles();\n  const [open, setOpen] = useState<boolean>(false);\n  const [wholeName, setWholeName] = useState<string>(\"Loading...\");\n  const [name, setName] = useState<string>(\"\");\n\n  React.useEffect(() => {\n    result();\n  }, []);\n\n  const result = async () => {\n    const res = await getData();\n    if (res) {\n      setWholeName(`${res.first_name} ${res.last_name}`);\n      setName(res.first_name);\n    }\n  };\n\n  const drawerOpen = () => {\n    setOpen(true);\n  };\n  const handleDrawerClose = () => {\n    setOpen(!open);\n  };\n\n  const [_open, _setOpen] = React.useState(false);\n  const anchorRef = React.useRef<any>(null);\n\n  function handleToggle() {\n    _setOpen(prevOpen => !prevOpen);\n  }\n\n  const handleClose = (event: any) => {\n    if (anchorRef.current && anchorRef.current.contains(event.target)) {\n      return;\n    }\n\n    _setOpen(false);\n  };\n\n  function jsUcfirst(string: string) {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  }\n\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      <AppBar position=\"fixed\" className={clsx(classes.appBar)}>\n        <Toolbar className={classes.toolbar}>\n          <IconButton edge=\"start\" color=\"inherit\" onClick={drawerOpen}>\n            <MenuIcon />\n          </IconButton>\n          <Img src={logo} alt=\"logo\" />\n          {name ? (\n            <WelcomeName>\n              {jsUcfirst(name)}, welcome to your dashboard!\n            </WelcomeName>\n          ) : null}\n          <NotifIcon />\n          <AccountCircleIcon fontSize=\"large\" />\n          <Typography>{wholeName}</Typography>\n          <IconButton\n            ref={anchorRef}\n            onClick={handleToggle}\n            style={{\n              color: \"white\"\n            }}\n          >\n            <ExpandMoreIcon />\n          </IconButton>\n          <Popper\n            open={_open}\n            anchorEl={anchorRef.current}\n            placement={\"bottom\"}\n            transition\n            disablePortal\n          >\n            {({ TransitionProps, placement }) => (\n              <Grow\n                in={_open}\n                {...TransitionProps}\n                style={{\n                  transformOrigin:\n                    placement === \"bottom\" ? \"center top\" : \"center bottom\"\n                }}\n              >\n                <Paper id=\"menu-list-grow\">\n                  <ClickAwayListener onClickAway={handleClose}>\n                    <MenuList>\n                      <StyledLink to=\"/change-password\">\n                        <MenuItem onClick={handleClose}>\n                          <ListItemIcon>\n                            <FaceIcon />\n                          </ListItemIcon>\n                          <ListItemText>\n                            <Typography\n                              style={{\n                                fontSize: \"15px\"\n                              }}\n                            >\n                              Change Password\n                            </Typography>\n                          </ListItemText>\n                        </MenuItem>\n                      </StyledLink>\n                      <MenuItem\n                        onClick={() => {\n                          logout();\n                        }}\n                      >\n                        <ListItemIcon>\n                          <PowerSettingsNewIcon />\n                        </ListItemIcon>\n                        <ListItemText>\n                          <Typography\n                            style={{\n                              fontSize: \"15px\"\n                            }}\n                          >\n                            Logout\n                          </Typography>\n                        </ListItemText>\n                      </MenuItem>\n                    </MenuList>\n                  </ClickAwayListener>\n                </Paper>\n              </Grow>\n            )}\n          </Popper>\n        </Toolbar>\n      </AppBar>\n\n      {(location.pathname.includes(\"/manage\") ||\n        location.pathname.includes(\"/change\")) && (\n        <SideNav handleDrawerClose={handleDrawerClose} open={open} />\n      )}\n\n      {location.pathname.includes(\"/dashboard\") && (\n        <DashboardSidenav\n          handleDrawerClose={handleDrawerClose}\n          drawerOpen={drawerOpen}\n          open={open}\n          {...props}\n        />\n      )}\n    </div>\n  );\n};\n\nHeadMenu.defaultProps = {\n  location: { pathname: \"/manage/user\" },\n  getData: () => {\n    return { first_name: \"StoryBook\", last_name: \"User\" };\n  },\n  logout: () => {\n    alert(\"Logout\");\n  }\n} as Partial<HeadMenuProps>;\n\nexport { HeadMenu };\n"]},"metadata":{},"sourceType":"module"}
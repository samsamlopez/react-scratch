{"ast":null,"code":"var _jsxFileName = \"/home/webdev/Documents/react-portal/src/common-components/logs-filter/index.tsx\";\nimport { FormControl, Grid, InputLabel, MenuItem, Select, withStyles } from \"@material-ui/core\";\nimport { createMuiTheme, MuiThemeProvider } from \"@material-ui/core/styles\";\nimport { KeyboardArrowDown } from \"@material-ui/icons\";\nimport React, { Component } from \"react\";\nimport { CustomButton } from \"common-components\";\nimport { SearchBar } from \"./components/SearchBar\";\nimport Styles from \"./indexStyle\";\n/**\n * ==============================================================================\n * <FilterLog />\n * ------------------------------------------------------------------------------\n * @param {Array}         originalData        Data to be used as a search data\n * @param {Function}      handleFilterUpdate  Function that will received the result\n * @param {Object}        classes             styles classes\n * @param {Function}      modalFunc           Function that controls modal\n * @return {ReactElement}\n * ==============================================================================\n */\n\nconst defaultProps = {\n  originalData: [// {\n    //   user: \"Edward Nayve\",\n    //   username: \"edward-dev\",\n    //   created: \"Nov 22, 2019\",\n    //   time: \"09:00:31\",\n    //   timestamp: 1574413231,\n    //   campaign: \"45\",\n    //   changed_fields: { created: { S: \"45 has been created\" } },\n    //   original_fields: {}\n    // }\n  ],\n  modalFunc: () => console.log(\"Modal Function ...\"),\n  handleFilterUpdate: data => console.log(\"Result: \", data)\n};\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: \"#1194f6\"\n    }\n  },\n  overrides: {\n    MuiInput: {\n      underline: {\n        \"&:before\": {\n          borderBottom: `1px solid rgba(238, 238, 238, 0.99)`\n        },\n        \"&:hover:not($disabled):before\": {\n          borderBottom: \"1px solid #1194f6\"\n        },\n        \"&:after\": {\n          borderBottom: \"1px solid #1194f6\"\n        }\n      }\n    },\n    MuiSelect: {\n      select: {\n        \"&:focus\": {\n          backgroundColor: \"#ffffff\"\n        }\n      }\n    },\n    MuiListItem: {\n      button: {\n        \"&:hover\": {\n          backgroundColor: \"#ffffff\"\n        }\n      },\n      root: {\n        \"&$selected\": {\n          backgroundColor: \"#ffffff\",\n          \"&&:hover\": {\n            backgroundColor: \"#ffffff\"\n          },\n          \"&&:active:after\": {\n            backgroundColor: \"#ffffff\"\n          }\n        }\n      }\n    }\n  }\n});\nconst selectProps = {\n  selectprops: {\n    IconComponent: () => React.createElement(KeyboardArrowDown, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    })\n  }\n};\n\nclass LogsFilter extends Component {\n  constructor(props) {\n    super(props);\n\n    this.removeDuplicates = (originalArray, prop) => {\n      var newArray = [];\n      var lookupObject = {};\n\n      for (var i in originalArray) {\n        lookupObject[originalArray[i][prop]] = originalArray[i];\n      }\n\n      for (i in lookupObject) {\n        newArray.push(lookupObject[i]);\n      }\n\n      return newArray;\n    };\n\n    this.filterData = () => {\n      let _this$state = this.state,\n          userValue = _this$state.userValue,\n          createValue = _this$state.createValue;\n      const _this$props = this.props,\n            originalData = _this$props.originalData,\n            handleFilterUpdate = _this$props.handleFilterUpdate;\n      var newArray = originalData.filter(el => {\n        return createValue === 0 && userValue !== 0 ? el.username === userValue : createValue !== 0 && userValue === 0 ? el.created === createValue : el.username === userValue && el.created === createValue;\n      });\n\n      if (userValue === 0 && createValue === 0) {\n        handleFilterUpdate(originalData);\n      } else {\n        handleFilterUpdate(newArray);\n      }\n    };\n\n    this.renderSearchBar = (originalData, modalFunc) => React.createElement(SearchBar, {\n      title: \"Changes\",\n      userData: originalData,\n      headers: [\"original_fields\", \"changed_fields\"] // loading={true}\n      ,\n      modalFunc: modalFunc,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    });\n\n    this.renderForm = (classes, originalData, modalFunc) => React.createElement(React.Fragment, null, React.createElement(Grid, {\n      item: true,\n      xs: 3,\n      md: 3,\n      lg: 3,\n      className: classes.gridItem,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, React.createElement(FormControl, {\n      className: classes.formControl,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, React.createElement(InputLabel, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      style: {\n        fontSize: 18,\n        color: \"#bbbbbb\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, \"User\")), React.createElement(Select, Object.assign({\n      className: classes.root,\n      id: \"demo-simple-select\",\n      value: this.state.userValue,\n      onChange: e => {\n        this.setState({\n          userValue: e.target.value\n        });\n      }\n    }, selectProps, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }), React.createElement(MenuItem, {\n      value: 0,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, \"All\"), this.removeDuplicates(originalData, \"username\").map((item, i) => React.createElement(MenuItem, {\n      value: item.username,\n      key: i,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, item.user))))), React.createElement(Grid, {\n      item: true,\n      xs: 3,\n      md: 3,\n      lg: 3,\n      className: classes.gridItem,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, React.createElement(FormControl, {\n      className: classes.formControl,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, React.createElement(InputLabel, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      style: {\n        fontSize: 18,\n        color: \"#bbbbbb\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, \"Created\")), React.createElement(Select, Object.assign({\n      id: \"demo-simple-select\",\n      value: this.state.createValue,\n      onChange: e => {\n        this.setState({\n          createValue: e.target.value\n        });\n      }\n    }, selectProps, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }), React.createElement(MenuItem, {\n      value: 0,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }, \"All\"), this.removeDuplicates(originalData, \"created\").map((item, i) => React.createElement(MenuItem, {\n      value: item.created,\n      key: i,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, item.created))))));\n\n    this.renderButton = classes => React.createElement(Grid, {\n      item: true,\n      xs: 6,\n      md: 6,\n      lg: 6,\n      className: classes.gridItem,\n      style: {\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, React.createElement(CustomButton, {\n      style: {\n        backgroundColor: \"#7C8A97\",\n        color: \"#eeeeee\"\n      },\n      handleClick: () => {\n        console.log(\"Filter Data Initiated.\");\n        this.filterData();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, \"Apply\"));\n\n    this.state = {\n      userValue: 0,\n      createValue: 0\n    };\n  }\n\n  render() {\n    const _this$props2 = this.props,\n          classes = _this$props2.classes,\n          originalData = _this$props2.originalData,\n          modalFunc = _this$props2.modalFunc;\n    return React.createElement(MuiThemeProvider, {\n      theme: theme,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: classes.itemContainer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    }, this.renderSearchBar(originalData, modalFunc), React.createElement(Grid, {\n      container: true,\n      className: classes.gridContainer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245\n      },\n      __self: this\n    }, this.renderForm(classes, originalData, modalFunc), this.renderButton(classes))));\n  }\n\n}\n\nlet FilterLog = withStyles(Styles)(LogsFilter);\nFilterLog.defaultProps = defaultProps;\nexport { FilterLog };","map":{"version":3,"sources":["/home/webdev/Documents/react-portal/src/common-components/logs-filter/index.tsx"],"names":["FormControl","Grid","InputLabel","MenuItem","Select","withStyles","createMuiTheme","MuiThemeProvider","KeyboardArrowDown","React","Component","CustomButton","SearchBar","Styles","defaultProps","originalData","modalFunc","console","log","handleFilterUpdate","data","theme","palette","primary","main","overrides","MuiInput","underline","borderBottom","MuiSelect","select","backgroundColor","MuiListItem","button","root","selectProps","selectprops","IconComponent","LogsFilter","constructor","props","removeDuplicates","originalArray","prop","newArray","lookupObject","i","push","filterData","state","userValue","createValue","filter","el","username","created","renderSearchBar","renderForm","classes","gridItem","formControl","fontSize","color","e","setState","target","value","map","item","user","renderButton","display","justifyContent","alignItems","render","itemContainer","gridContainer","FilterLog"],"mappings":"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","sourcesContent":["import {\n  FormControl,\n  Grid,\n  InputLabel,\n  MenuItem,\n  Select,\n  withStyles\n} from \"@material-ui/core\";\nimport { createMuiTheme, MuiThemeProvider } from \"@material-ui/core/styles\";\nimport { KeyboardArrowDown } from \"@material-ui/icons\";\nimport React, { Component } from \"react\";\nimport { CustomButton } from \"common-components\";\nimport { SearchBar } from \"./components/SearchBar\";\nimport Styles from \"./indexStyle\";\n\n/**\n * ==============================================================================\n * <FilterLog />\n * ------------------------------------------------------------------------------\n * @param {Array}         originalData        Data to be used as a search data\n * @param {Function}      handleFilterUpdate  Function that will received the result\n * @param {Object}        classes             styles classes\n * @param {Function}      modalFunc           Function that controls modal\n * @return {ReactElement}\n * ==============================================================================\n */\n\ninterface State {\n  userValue: any;\n  createValue: any;\n}\n\ninterface Props {\n  originalData: any;\n  handleFilterUpdate: any;\n  classes: any;\n  modalFunc: (e: React.SyntheticEvent<HTMLButtonElement>) => void;\n}\n\nconst defaultProps = {\n  originalData: [\n    // {\n    //   user: \"Edward Nayve\",\n    //   username: \"edward-dev\",\n    //   created: \"Nov 22, 2019\",\n    //   time: \"09:00:31\",\n    //   timestamp: 1574413231,\n    //   campaign: \"45\",\n    //   changed_fields: { created: { S: \"45 has been created\" } },\n    //   original_fields: {}\n    // }\n  ],\n  modalFunc: () => console.log(\"Modal Function ...\"),\n  handleFilterUpdate: (data: any) => console.log(\"Result: \", data)\n};\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: { main: \"#1194f6\" }\n  },\n  overrides: {\n    MuiInput: {\n      underline: {\n        \"&:before\": {\n          borderBottom: `1px solid rgba(238, 238, 238, 0.99)`\n        },\n        \"&:hover:not($disabled):before\": {\n          borderBottom: \"1px solid #1194f6\"\n        },\n        \"&:after\": {\n          borderBottom: \"1px solid #1194f6\"\n        }\n      }\n    },\n    MuiSelect: {\n      select: {\n        \"&:focus\": {\n          backgroundColor: \"#ffffff\"\n        }\n      }\n    },\n    MuiListItem: {\n      button: {\n        \"&:hover\": {\n          backgroundColor: \"#ffffff\"\n        }\n      },\n      root: {\n        \"&$selected\": {\n          backgroundColor: \"#ffffff\",\n          \"&&:hover\": {\n            backgroundColor: \"#ffffff\"\n          },\n          \"&&:active:after\": {\n            backgroundColor: \"#ffffff\"\n          }\n        }\n      }\n    }\n  }\n});\n\nconst selectProps = {\n  selectprops: { IconComponent: () => <KeyboardArrowDown /> }\n};\n\nclass LogsFilter extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n\n    this.state = {\n      userValue: 0,\n      createValue: 0\n    } as any;\n  }\n  removeDuplicates: Function = (originalArray: any, prop: any) => {\n    var newArray = [];\n    var lookupObject = {} as any;\n\n    for (var i in originalArray) {\n      lookupObject[originalArray[i][prop]] = originalArray[i] as any;\n    }\n\n    for (i in lookupObject) {\n      newArray.push(lookupObject[i]);\n    }\n\n    return newArray;\n  };\n\n  filterData: Function = () => {\n    let { userValue, createValue } = this.state;\n    const { originalData, handleFilterUpdate } = this.props;\n    var newArray = originalData.filter((el: any) => {\n      return createValue === 0 && userValue !== 0\n        ? el.username === userValue\n        : createValue !== 0 && userValue === 0\n        ? el.created === createValue\n        : el.username === userValue && el.created === createValue;\n    });\n\n    if (userValue === 0 && createValue === 0) {\n      handleFilterUpdate(originalData);\n    } else {\n      handleFilterUpdate(newArray);\n    }\n  };\n\n  renderSearchBar: Function = (originalData: any, modalFunc: any) => (\n    <SearchBar\n      title=\"Changes\"\n      userData={originalData}\n      headers={[\"original_fields\", \"changed_fields\"]}\n      // loading={true}\n      modalFunc={modalFunc}\n    />\n  );\n\n  renderForm: Function = (classes: any, originalData: any, modalFunc: any) => (\n    <>\n      <Grid item xs={3} md={3} lg={3} className={classes.gridItem}>\n        <FormControl className={classes.formControl}>\n          <InputLabel>\n            <span style={{ fontSize: 18, color: \"#bbbbbb\" }}>User</span>\n          </InputLabel>\n          <Select\n            className={classes.root}\n            id=\"demo-simple-select\"\n            value={this.state.userValue}\n            onChange={(e) => {\n              this.setState({ userValue: e.target.value });\n            }}\n            {...selectProps}\n          >\n            <MenuItem value={0}>All</MenuItem>\n            {this.removeDuplicates(originalData, \"username\").map(\n              (item: any, i: number) => (\n                <MenuItem value={item.username} key={i}>\n                  {item.user}\n                </MenuItem>\n              )\n            )}\n          </Select>\n        </FormControl>\n      </Grid>\n      <Grid item xs={3} md={3} lg={3} className={classes.gridItem}>\n        <FormControl className={classes.formControl}>\n          <InputLabel>\n            <span style={{ fontSize: 18, color: \"#bbbbbb\" }}>Created</span>\n          </InputLabel>\n          <Select\n            id=\"demo-simple-select\"\n            value={this.state.createValue}\n            onChange={(e) => {\n              this.setState({ createValue: e.target.value });\n            }}\n            {...selectProps}\n          >\n            <MenuItem value={0}>All</MenuItem>\n            {this.removeDuplicates(originalData, \"created\").map(\n              (item: any, i: number) => (\n                <MenuItem value={item.created} key={i}>\n                  {item.created}\n                </MenuItem>\n              )\n            )}\n          </Select>\n        </FormControl>\n      </Grid>\n    </>\n  );\n\n  renderButton: Function = (classes: any) => (\n    <Grid\n      item\n      xs={6}\n      md={6}\n      lg={6}\n      className={classes.gridItem}\n      style={{\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\"\n      }}\n    >\n      <CustomButton\n        style={{ backgroundColor: \"#7C8A97\", color: \"#eeeeee\" }}\n        handleClick={() => {\n          console.log(\"Filter Data Initiated.\");\n          this.filterData();\n        }}\n      >\n        Apply\n      </CustomButton>\n    </Grid>\n  );\n\n  render() {\n    const { classes, originalData, modalFunc } = this.props;\n\n    return (\n      <MuiThemeProvider theme={theme}>\n        <div className={classes.itemContainer}>\n          {this.renderSearchBar(originalData, modalFunc)}\n          <Grid container className={classes.gridContainer}>\n            {this.renderForm(classes, originalData, modalFunc)}\n            {this.renderButton(classes)}\n          </Grid>\n        </div>\n      </MuiThemeProvider>\n    );\n  }\n}\n\nlet FilterLog = withStyles(Styles)(LogsFilter);\nFilterLog.defaultProps = defaultProps;\nexport { FilterLog };\n"]},"metadata":{},"sourceType":"module"}